<!-- build time:Fri Mar 06 2020 21:23:09 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=6.4.1" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/time.png?v=6.4.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/time.png?v=6.4.1"><link rel="mask-icon" href="/images/logo.svg?v=6.4.1" color="#222"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"6.4.1",sidebar:{position:"left",display:"always",offset:12,b2t:!1,scrollpercent:!0,onmobile:!1},fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="keywords" content="软件安全"><meta property="og:type" content="article"><meta property="og:title" content="软件安全设计"><meta property="og:url" content="https://browallia.github.io/2019/06/14/软件安全设计/index.html"><meta property="og:site_name" content="Viva La Vida"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://browallia.github.io/2019/06/14/软件安全设计/1.png"><meta property="og:image" content="https://browallia.github.io/2019/06/14/软件安全设计/2.png"><meta property="og:updated_time" content="2019-06-20T04:30:33.545Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="软件安全设计"><meta name="twitter:image" content="https://browallia.github.io/2019/06/14/软件安全设计/1.png"><link rel="alternate" href="/atom.xml" title="Viva La Vida" type="application/atom+xml"><link rel="canonical" href="https://browallia.github.io/2019/06/14/软件安全设计/"><script type="text/javascript" id="page.configurations">CONFIG.page={sidebar:""}</script><title>软件安全设计 | Viva La Vida</title><noscript><style type="text/css">.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://github.com/Browallia" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Viva La Vida</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>POI</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://browallia.github.io/2019/06/14/软件安全设计/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="BROWALLIA"><meta itemprop="description" content=""><meta itemprop="image" content="/images/header.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Viva La Vida"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">软件安全设计</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-06-14 16:57:19" itemprop="dateCreated datePublished" datetime="2019-06-14T16:57:19+08:00">2019-06-14</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-06-20 12:30:33" itemprop="dateModified" datetime="2019-06-20T12:30:33+08:00">2019-06-20</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/大二/" itemprop="url" rel="index"><span itemprop="name">大二</span></a></span> </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> 热度： <span class="busuanzi-value" id="busuanzi_value_page_pv"></span> </span><span class="post-meta-divider">|</span> <span title="post.wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span>字数： 12.4k</span></div></header><div class="post-body" itemprop="articleBody"><a id="more"></a><h1 id="软件安全设计"><a href="#软件安全设计" class="headerlink" title="软件安全设计"></a>软件安全设计</h1><h2 id="CH01软件与软件安全"><a href="#CH01软件与软件安全" class="headerlink" title="CH01软件与软件安全"></a>CH01软件与软件安全</h2><h3 id="计算环境与软件"><a href="#计算环境与软件" class="headerlink" title="计算环境与软件"></a>计算环境与软件</h3><h4 id="二进制基础"><a href="#二进制基础" class="headerlink" title="二进制基础"></a>二进制基础</h4><h5 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h5><p><strong>所谓位运算是指进行二进制位的运算。在系统软件中，常要处理二进位的问题。</strong></p><font color="red">**不同长度的数据进行位运算**</font><p>如果两个数据长度不同(例如long型和int型)进行位运算时(如a &amp; b,而a为long型,b为int型),系统会将二者按右端对齐。如果b为正数,则左侧16位补满0。若b为负数,左端应补满1。如果b为无符号整数型,则左侧添满0。</p><h4 id="指令系统与指令集"><a href="#指令系统与指令集" class="headerlink" title="指令系统与指令集"></a>指令系统与指令集</h4><p><strong>指令系统：</strong>计算机的指令系统就是指该计算机能够执行的全部指令的集合。</p><p><strong>指令系统也称指令集</strong></p><h3 id="软件的形式与概念"><a href="#软件的形式与概念" class="headerlink" title="软件的形式与概念"></a>软件的形式与概念</h3><h4 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h4><p>与一个系统（尤指计算机系统）有关的<strong>程序、步骤和有关文件</strong>编制的完整集合。特指特定类型计算机所使用的程序的总称，连同与计算机或程序有关的资料，例如手册、图表和操作指令。</p><p><strong>程序</strong></p><p>根据一定的需要事先编写的一系列控制计算机工作的命令，就称为<strong>计算机程序。</strong></p><p><strong>计算机系统的组成</strong></p><p>完整的计算机系统包括计算机硬件系统和计算机软件系统。</p><p><strong>软件的主要内容</strong></p><p>程序、步骤及数据、信息手册等相关资料</p><p>功能：针对一个系统（计算机），合理组织工作。</p><p>两个层次：</p><p>–直接与硬件相关</p><p>–合理组织工作，完成特定任务。</p><p><strong>软件的形式</strong></p><p>软件分为<strong>系统软件</strong>和<strong>应用软件</strong>，<font color="red">应用软件以系统软件为基础。</font></p><h3 id="信息安全与软件安全"><a href="#信息安全与软件安全" class="headerlink" title="信息安全与软件安全"></a>信息安全与软件安全</h3><h4 id="信息与信息安全"><a href="#信息与信息安全" class="headerlink" title="信息与信息安全"></a>信息与信息安全</h4><p><strong>信息安全属性</strong></p><p><strong>安全性，可用性，保密性，可控性，可靠性</strong></p><h4 id="软件安全"><a href="#软件安全" class="headerlink" title="软件安全"></a>软件安全</h4><p><strong>软件安全：</strong>软件在恶意攻击下能够正确地完成其功能。</p><p><strong>软件安全性：</strong>软件安全性是指软件不被恶意使用或者攻击进而造成用户信息资产损失的属性。</p><p><strong>软件安全属性：</strong></p><ol><li>可信性：保护敏感信息不被未授权用户访问</li><li>完整性：保护数据不被更改或破坏</li><li>可用性：确保资源被授权用户的使用</li></ol><p><strong>软件安全保护：</strong></p><p>(1) 软件<strong>自身安全</strong>：防止软件丢失、被破坏、被篡改、被伪造</p><p>(2) 软件<strong>存储安全</strong>：可靠存储，保密存储，压缩存储，备份存储</p><p>(3) 软件<strong>通信安全</strong>：安全传输、加密传输、网络安全下载、完整下载</p><p>(4) 软件<strong>信用安全</strong>：合法用户与非法用户，授权访问，防止软件滥用，</p><p>防止软件窃取，软件的非法复制</p><p>(5) 软件<strong>运行安全</strong> ：确保软件正常运行，功能正常</p><p><strong>软件安全研究：</strong>如何设计、构造、验证和维护软件以保证其是安全的。</p><p>包括改进和实现软件安全的<strong>架构或结构、工具、方法</strong></p><h4 id="ISO7498-2"><a href="#ISO7498-2" class="headerlink" title="ISO7498-2"></a><strong>ISO7498-2</strong></h4><h5 id="主要内容"><a href="#主要内容" class="headerlink" title="主要内容"></a>主要内容</h5><p>在ISO7498-2中描述开放系统互连安全的体系架构，提出设计安全的信息系统的基础架构应该包含的：5种安全服务，对5种安全服务提供支持的8类安全机制，需要进行的5种OSI安全管理方式</p><h5 id="5种安全服务"><a href="#5种安全服务" class="headerlink" title="5种安全服务"></a>5种安全服务</h5><ul><li>鉴别服务、访问控制、数据完整性、数据保密性、抗抵赖</li></ul><h5 id="8种安全机制"><a href="#8种安全机制" class="headerlink" title="8种安全机制"></a>8种安全机制</h5><ul><li>加密、数字签名、访问控制、数据完整性、数据交换、业务流填充、路由控制、公证</li></ul><h5 id="5种普遍性安全管理机制"><a href="#5种普遍性安全管理机制" class="headerlink" title="5种普遍性安全管理机制"></a>5种普遍性安全管理机制</h5><ul><li>可信功能度、安全标记、事件检测、安全审计跟踪、安全恢复</li></ul><h4 id="软件安全的概念"><a href="#软件安全的概念" class="headerlink" title="软件安全的概念"></a>软件安全的概念</h4><h5 id="漏洞"><a href="#漏洞" class="headerlink" title="漏洞"></a>漏洞</h5><p>计算机系统具有的某种可能被入侵者恶意利用的<font color="red">属性</font>。</p><p>有时安全漏洞也称为脆弱性（Vulnerability）。</p><p><strong>本质：</strong>漏洞是系统的一组特性，恶意的主体（攻击者或者攻击程序）能够利用这组特性，通过已授权的手段和方式获取对资源的未经授权访问，或者对系统造成损害。</p><h5 id="脆弱状态"><a href="#脆弱状态" class="headerlink" title="脆弱状态"></a>脆弱状态</h5><p>从已授权的状态变换到未授权状态。</p><h5 id="攻击"><a href="#攻击" class="headerlink" title="攻击"></a>攻击</h5><p>攻击是以授权状态或脆弱状态开始，以<strong>受损状态为目标</strong>的状态变换</p><h5 id="安全事件"><a href="#安全事件" class="headerlink" title="安全事件"></a>安全事件</h5><p>当系统的某个漏洞被入侵者渗透（exploit）而造成泄密</p><h4 id="ISO9126标准"><a href="#ISO9126标准" class="headerlink" title="ISO9126标准"></a>ISO9126标准</h4><p>ISO9126标准：软件产品评价－质量特性及其使用指南</p><h5 id="6个质量特性"><a href="#6个质量特性" class="headerlink" title="6个质量特性"></a>6个质量特性</h5><ul><li><strong>功能性</strong><ul><li>准确性：软件提供给用户功能的精确度是否符合目标。（例如：运算结果的准确，数字发生偏差，多个0或少个0）</li><li>互操作性：软件与其它系统进行交互的能力。（例如：PC机中WORD和打印机完成打印互通）</li><li>保密安全性：软件保护信息和数据的安全能力。（主要是权限和密码）</li><li>功能性的依从性：遵循相关标准（国际标准、国内标准、行业标准、企业内部规范）</li></ul></li><li><strong>可靠性</strong><ul><li>成熟性：软件产品为避免软件内部的错误扩散而导至系统失效的能力（主要是对内错误的隔离）</li><li>容错性：软件防止外部接口错误扩散而导致系统失效的能力（主要是对外错误的隔离）</li><li>易恢复性：系统失效后，重新恢复原有的功能和性能的能力。</li><li>可靠性的依从性：遵循相关标准</li></ul></li><li><strong>易用性</strong><ul><li>易理解性：软件交互给用户的信息时，要清晰，准确，且要易懂，使用户能够快速理解软件。</li><li>易学性：软件使用户能学习其应用的能力。</li><li>易操作性：软件产品使用户能易于操作和控制它的能力。</li><li>易用性的依从性：遵循一定的标准。</li></ul></li><li><strong>效率</strong><ul><li>时间特性：软件处理特定的业务请求所需要的响应时间。</li><li>资源利用性：软件处理特定的业务请求所消耗的系统资源。</li><li>效率依从性：遵循一定的标准。</li></ul></li><li><strong>维护性</strong><ul><li>易分析性：软件提供辅助手段帮助开发人员定位缺陷产生的原因，判断出修改的地方。</li><li>易改变性：软件产品使得指定的修改容易实现的能力。（降低修复问题的成本）</li><li>稳定性：软件产品避免由于软件修改而造成意外结果的能力。</li><li>易测试性：软件提供辅助性手段帮助测试人员实现其测试意图。</li><li>维护性的依从性：遵循相关标准。</li></ul></li><li><strong>可移植性</strong><ul><li>适应性：软件产品无需作相应变动就能适应不同环境的能力。</li><li>易安装性：尽可能少的提供选择，方便用户直接安装。</li><li>共存性：软件产品在公共环境中与其它软件分享公共资源共存的软件。</li><li>易替换性：软件产品在同样的环境下，替代另一个相同用途的软件产品的能力。</li><li>可移植性的依从性：遵循相关的标准。</li></ul></li></ul><h5 id="9126质量模型缺陷"><a href="#9126质量模型缺陷" class="headerlink" title="9126质量模型缺陷"></a>9126质量模型缺陷</h5><ul><li>安全性是软件功能性的子属性</li><li>充分体现了对安全的忽视。</li></ul><p><strong>安全的代码（secure code）</strong>： 能够抵抗恶意攻击的代码；安全的代码同时也是健壮的代码（robust code）</p><p><strong>安全性代码（security code）</strong>： 实现安全功能的代码。</p><p><strong>安全的程序：</strong>安全隐含某种程度的信任（trust），程序实现了期望的机密性、完整性、可用性及其功能。</p><h2 id="CH02典型软件安全问题"><a href="#CH02典型软件安全问题" class="headerlink" title="CH02典型软件安全问题"></a>CH02典型软件安全问题</h2><h3 id="安全问题的来源"><a href="#安全问题的来源" class="headerlink" title="安全问题的来源"></a>安全问题的来源</h3><p><strong>根本来源：</strong>漏洞(<font color="red">漏洞是软件的属性，是软件安全威胁的根源</font>)、攻击者、软件存在的攻击路径－攻击面问题。</p><h4 id="漏洞-1"><a href="#漏洞-1" class="headerlink" title="漏洞"></a>漏洞</h4><h5 id="产生漏洞的原因"><a href="#产生漏洞的原因" class="headerlink" title="产生漏洞的原因"></a>产生漏洞的原因</h5><ol><li>软件或协议<strong>设计</strong>时的瑕疵</li><li>软件或协议<strong>实现</strong>中的弱点</li><li>软件<strong>本身</strong>的瑕疵</li><li><strong>系统和网络</strong>的错误配置</li></ol><h5 id="漏洞的两种类型"><a href="#漏洞的两种类型" class="headerlink" title="漏洞的两种类型"></a>漏洞的两种类型</h5><ul><li>设计漏洞：<ul><li>设计错误，往往发现于软件的安全功能特性中。</li></ul></li><li>实现漏洞：<ul><li>来源于软件实际编码中的安全缺陷。</li></ul></li></ul><h4 id="意外行为和缺陷"><a href="#意外行为和缺陷" class="headerlink" title="意外行为和缺陷"></a>意外行为和缺陷</h4><p><strong>意外行为（Unexpected Behavior）</strong>：也称程序安全缺陷，是由于程序脆弱性引起的不适当的程序行为。</p><p><strong>缺陷（Flaw）</strong>：缺陷可以是故障（Fault），或者失效（Failure）</p><p>程序安全缺陷可能来源于任何种类的<strong>软件错误</strong>：</p><ul><li>无意或疏忽的</li><li>故意或有意的</li></ul><h5 id="缺陷的类型："><a href="#缺陷的类型：" class="headerlink" title="缺陷的类型："></a>缺陷的类型：</h5><ul><li>有意的缺陷<ul><li>恶意的</li><li>非恶意的</li></ul></li><li>无意的缺陷<ul><li><strong>确认</strong>错误</li><li><strong>域</strong>的错误</li><li><strong>顺序化和混淆</strong>现象</li><li>不完全的<strong>身份识别和认证</strong></li><li><strong>边界条件</strong>违反</li><li>其它可利用的<strong>逻辑</strong>错误</li></ul></li></ul><h5 id="APPLE-DEVELOPER常见软件缺陷"><a href="#APPLE-DEVELOPER常见软件缺陷" class="headerlink" title="APPLE DEVELOPER常见软件缺陷"></a><strong>APPLE DEVELOPER常见软件缺陷</strong></h5><ul><li>buffer overflows 缓冲区溢出</li><li>invalidated input 未校验输入</li><li>race conditions 资源竞争</li><li>access-control problems 访问控制问题</li><li>weaknesses in authentication, authorization, or cryptographic practices 认证、授权、加密缺陷</li></ul><h3 id="常见的安全设计问题"><a href="#常见的安全设计问题" class="headerlink" title="常见的安全设计问题"></a>常见的安全设计问题</h3><ol><li><strong>密码技术使用的败笔</strong><ul><li>创建自己的密码技术</li><li>选用了不当的密码技术</li><li>依赖隐蔽式安全</li><li>编写到程序中的密钥</li><li>错误地处理私密信息</li></ul></li><li><strong>对用户及其许可权限进行跟踪的薄弱或缺失</strong><ul><li>会话管理薄弱或者缺失</li><li>身份鉴别薄弱或缺失</li><li>授权薄弱或缺失</li></ul></li><li><strong>有缺陷的输入验证</strong><ul><li>没有在安全的上下文环境中执行验证，如在服务器验证而在客户端没有验证</li><li>验证例程不集中，验证应尽可能靠近用户输入，并应集中以便于核实</li><li>不安全的组件边界</li></ul></li><li><strong>薄弱的结构性安全</strong><ul><li>过大的攻击面</li><li>在过高权限级别上运行进程</li><li>没有纵深防御</li><li>失效时的处理不安全</li></ul></li><li><strong>其他设计缺陷</strong><ul><li>代码和数据混在一起</li><li>错将信任寄予外部系统</li><li>不安全的默认值</li><li>未做审计日志</li></ul></li></ol><h3 id="编程语言问题"><a href="#编程语言问题" class="headerlink" title="编程语言问题"></a>编程语言问题</h3><h4 id="C-C-的问题"><a href="#C-C-的问题" class="headerlink" title="C/C++的问题"></a>C/C++的问题</h4><ol><li><p><strong>没有安全的本地字符串类型，也没有安全而易用的字符串处理函数。</strong></p><p><strong>PS：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//C中以NULL终止符表示一个字符串的末尾。</span></span><br><span class="line"><span class="comment">//如：</span></span><br><span class="line">Char buffer[]=“small <span class="built_in">string</span>”</span><br><span class="line"><span class="comment">//没有确切地存储字符串的长度，该字符串的长度要</span></span><br><span class="line"><span class="comment">//程序员管理。</span></span><br><span class="line"><span class="comment">//当程序员处理这个长度犯错时，就会导致超过缓冲</span></span><br><span class="line"><span class="comment">//区结尾部分的内存被覆盖。</span></span><br></pre></td></tr></table></figure><p><strong>缓冲区溢出（BufferOverflow）</strong><br><strong>——一个最典型的例子：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> sample[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) sample[i] = <span class="string">'A'</span>;</span><br><span class="line">	sample[<span class="number">10</span>] =<span class="string">'B'</span>;   <span class="comment">//</span></span><br></pre></td></tr></table></figure></li><li><p><strong>缓冲区超限覆盖栈中的函数返回地址</strong></p><ul><li>用于从被调用的函数返回到某个位置的返回地址驻留在栈中，紧接在本地变量之后；</li><li>返回地址是驻留在栈中的一段隐蔽的数据，栈中其余部分是传递给该函数的变量；</li><li>编译后的程序在调用这个函数之前会将这个地址数据放在栈中，以使程序获知当这个函数执行完后转到哪里；</li><li>通过把栈中某个变量产生缓冲区溢出，就可以覆盖栈中的这个返回地址。</li></ul><p><strong>PS:</strong></p><p><strong>典型例子－栈溢出（Stack Smashing）</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Void <span class="title">createFullName</span> <span class="params">(<span class="keyword">char</span>* firstName, Char* lastName)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Char fullName[<span class="number">1024</span>];</span><br><span class="line">Strcpy(fullName, firstName);</span><br><span class="line">Strcat(fullName, “ “)</span><br><span class="line">Strcat(fullName, lastName);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">接受参数名字和姓氏，放到一起，中间用空格分隔；</span></span><br><span class="line"><span class="comment">变量fullName的声明方式，使其在堆栈中驻留；</span></span><br><span class="line"><span class="comment">如果firstName和lastName太长，可能会使fullName超出1024；</span></span><br><span class="line"><span class="comment">调用strcpy 和strcat函数破坏内存栈，会导致程序崩溃；</span></span><br><span class="line"><span class="comment">如果控制参数使得fullName发生缓冲区溢出，就可以造成程序的恶意攻击。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><strong>预防栈溢出的方法：</strong></p><ul><li>精确控制输入变量的长度（如上述firstName和lastName的长度限制为511个字节）；</li><li>建议使用strncpy和strncat替代strcpy和strcat；</li><li>避免使用无界字符串；</li><li>创建一个新的或使用已有的字符串缓冲区模块。</li></ul></li><li><p><strong>printf类型的格式化函数－格式化字符串攻击</strong></p><p>例子：</p><p>sprintf(target, “Name:%s, count:%d”, person, num);</p><p>该例子获取字符串Name和整型数count，放入target（目标缓冲区）</p><p>如果：</p><p>sprintf（target，“Name: %s%s%s%s, count:%d”,num）；</p><p>此时该函数将从栈中读取四个字符串，但事实上栈中不存在这四个字符串，程序读取栈中原本用于其他目的的值。</p></li><li><p>整数溢出</p><p>在C语言中，整数的正负标识是默认的；</p><p>当一个整数值增长从而超过了其最大可能的值并循环到成为一个负数的时候，将发生整数溢出；</p><p>C语言没有任何措施预防整数溢出。</p><p>如果攻击者通过用户输入操纵整数长度，就可以让这个值溢出，引起程序的处理发生错误。</p><p>例：整数2147483647加1，发生溢出，成为</p><p>​ -2147483648</p><p><strong>PS：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Int <span class="title">copy_something</span><span class="params">(<span class="keyword">char</span> *buf, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> kbuf[<span class="number">800</span>];</span><br><span class="line">     <span class="keyword">if</span>(len&gt;<span class="keyword">sizeof</span>(kbuf)</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;                      <span class="comment">/*1*/</span></span><br><span class="line">          &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">memcpy</span>(kbuf, buf, len);    <span class="comment">/*2*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在 1 利用符号整数进行了一次边界检查；</p><p>如果能够控制程序，传递一个负值给len，则可能通过1的检查；</p><p>在2中，memcpy接受无符号数作为长度，len被解释为一个大的无符号数，导致超越缓冲区kbuf的末尾；</p><p>具有讽刺意味的是：1所进行的边界检查是为了预防缓冲区溢出。</p></li></ol><h3 id="平台的实现问题"><a href="#平台的实现问题" class="headerlink" title="平台的实现问题"></a>平台的实现问题</h3><p><strong>平台：</strong>平台是指程序在其中所<strong>运行的环境</strong>，包括<strong>操作系统</strong>以及与之<strong>交互的组件</strong>。</p><p><strong>平台问题1：符号链接</strong></p><p>符号链接（Symbolic link, 简写为symlink）：文件系统中指向其他文件的文件。符号链接等效于其指向的文件。程序打开的是一个符号链接，实际打开的是该符号链接指向的文件。</p><p>符号链接问题</p><p>攻击者可以使用程序预计要操作的文件名创建一个符号链接，使该文件名指向希望的文件；利用符号链接，攻击者事实上可以启动系统中的任何程序。</p><p>解决</p><p>程序员或使用者创建、打开、删除文件，或更改文件权限，必须检查该文件的符号链接，不可以基于文件名做任何安全方面的判定。</p><p>权限攻击的例子：如果程序以攻击者没有的权限运行，比如作为SUID（系统用户身份），攻击者可以借此发动一次权限提升。</p><p><strong>平台问题2：目录遍历</strong></p><p>典型例子：</p><p>CIFS是WINDOWS的文件共享协议，允许计算机通过网络访问彼此的文件系统。</p><p>利用目录遍历，攻击者可通过使用“..”符号上升到文件系统的上一级目录，从而对文件共享程序进行欺骗，进而获得对不在共享目录下的目录进行访问。</p><p><strong>平台问题3：字符转换</strong></p><p>平台支持不同类型的字符编码，存在多种不同的表示某个字符的方式。</p><p>程序接受用户的输入，为了满足安全需求，通常会要求进行安全检查，以确保输入的字符串对该程序设计是有效的。</p><p>当平台进行升级的时候可能会引入新的字符编码。</p><h3 id="常见的应用程序安全问题"><a href="#常见的应用程序安全问题" class="headerlink" title="常见的应用程序安全问题"></a>常见的应用程序安全问题</h3><p><strong>引起原因：</strong></p><ul><li>应用程序的某个组件的恶意数据引起，这些恶意数据在其另一个组件中被当作了合法代码；</li><li>对涉密信息的不当处理</li></ul><p><strong>应用安全问题1：SQL注入</strong></p><p>攻击者通过操纵程序的某种输入，在连接到SQL数据库的应用程序上执行自己所构造的查询。</p><p>​ <strong>预防SQL攻击方法：</strong></p><ul><li>过滤所有输入，确保输入字段只包含所需要的字符；</li><li>尽量避免使用动态生成的SQL。</li></ul><p><strong>SQL注入典型例子：</strong></p><p>​ 但如果我们刻意的去绕过登录认证呢？猜想下面这个sql语句，单说用户名，开发人员很可能会这样去<strong>数据库</strong>里对比：<br>Select <em>from sys_user where username=‘XXX’<br>当然可能更复杂，假如我们在输入框里输入下面一句特殊的字符会如何？’or‘1=1<br>这是段神奇的字符，因为这样这个sql就变成：<br>Select </em>from sys_user where username=‘’or‘1=1’ ‘<br>这样我们就跳过了用户名的验证，实现了入侵。</p><p>这样的结果，导致无条件越过用户名验证。</p><p><strong>应用安全问题2：跨站点执行脚本</strong></p><p>利用Internet上某些环境（或WEB站点）的受信任级别高于其他环境。</p><p>来自非受信环境的攻击者可在受信的环境注入数据，使其在受信环境作为脚本予以执行。</p><p>跨站点执行脚本还可以用来访问数据，如用户cookies。</p><p><strong>跨站点执行脚本的例子：</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">假如有下面一个textbox：　　</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"address1"</span> <span class="attr">value</span>=<span class="string">"value1from"</span>&gt;</span></span><br><span class="line">value后面的值是来自用户的输入，如果用户输入　</span><br><span class="line">"/&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">alert(document.cookie)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">!-</span></span></span><br><span class="line"><span class="tag">那么就会变成　</span></span><br><span class="line">&lt;input type="text" name="address1" value=""/&gt;&lt;script&gt;alert(document.cookie)&lt;/script&gt;&lt;!- "&gt;　</span><br><span class="line">嵌入的JavaScript代码将会被执行　</span><br><span class="line">或者用户输入的是：</span><br><span class="line">"onfocus="alert(document.cookie)</span><br><span class="line">那么就会变成</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"address1"</span> <span class="attr">value</span>=<span class="string">""</span><span class="attr">onfocus</span>=<span class="string">"alert(document.cookie)"</span>&gt;</span></span><br><span class="line">事件被触发的时候嵌入的JavaScript代码将会被执行</span><br></pre></td></tr></table></figure><h3 id="开发过程问题"><a href="#开发过程问题" class="headerlink" title="开发过程问题"></a>开发过程问题</h3><ul><li>安全需求和前提条件的文档记录缺乏</li><li>交流和文档匮乏</li><li>缺少安全过程</li></ul><h4 id="部署上的薄弱性"><a href="#部署上的薄弱性" class="headerlink" title="部署上的薄弱性"></a>部署上的薄弱性</h4><p>部署的执行者一般不属于开发团队</p><p>软件错误地设置文件或注册表的键值，使系统上的其他用户可以进行更改</p><p>使软件安装时具有不必要的权限。</p><h3 id="OWASP"><a href="#OWASP" class="headerlink" title="OWASP"></a>OWASP</h3><p><strong>The Open Web Application Security Project</strong></p><h4 id="OWASP-Top-10"><a href="#OWASP-Top-10" class="headerlink" title="OWASP Top 10"></a>OWASP Top 10</h4><p><strong>A1-注入：</strong>攻击者发送的恶意数据可以欺骗解释器，以执行计划外的命令或者在未被恰当授权时访问数据。</p><p><strong>A2-失效的身份认证</strong></p><p><strong>A3-跨站脚本：</strong>XSS允许攻击者在受害者的浏览器上执行脚本，从而劫持用户会话、危害网站、或者将用户转向至恶意网站。</p><p><strong>A4-不安全的直接对象引用</strong></p><p><strong>A5-安全配置错误</strong></p><p><strong>A6-敏感信息泄露</strong></p><p><strong>A7-功能及访问控制缺失</strong></p><p><strong>A8-跨站请求伪造（CSRF）</strong></p><p><strong>A9-使用含有已知漏洞的组件</strong></p><p><strong>A10-未验证的重定向和转发</strong></p><h2 id="CH03安全软件工程"><a href="#CH03安全软件工程" class="headerlink" title="CH03安全软件工程"></a>CH03安全软件工程</h2><h3 id="SSE-CMM"><a href="#SSE-CMM" class="headerlink" title="SSE-CMM"></a>SSE-CMM</h3><h4 id="开发SSE-CMM的目的"><a href="#开发SSE-CMM的目的" class="headerlink" title="开发SSE-CMM的目的"></a>开发SSE-CMM的目的</h4><p>降低开发和维护系统的花费；</p><p>提高工程进度和预算的一致性；</p><p>选择合适的承包者。</p><p><strong>发起者：</strong>国防部、国家安全局</p><h4 id="主要内容-1"><a href="#主要内容-1" class="headerlink" title="主要内容"></a>主要内容</h4><h5 id="能力方面"><a href="#能力方面" class="headerlink" title="能力方面"></a>能力方面</h5><h6 id="能力级别"><a href="#能力级别" class="headerlink" title="能力级别"></a>能力级别</h6><p><strong>能力级别1：非正式执行</strong></p><p><strong>公共特征</strong></p><p>执行基本实施</p><p><strong>能力级别2：计划与跟踪</strong></p><p><strong>公共特征</strong></p><p>计划执行</p><p>规范化执行</p><p>验证执行</p><p>跟踪执行</p><p><strong>能力级别3：充分定义</strong></p><p><strong>公共特征</strong></p><p>定义标准过程</p><p>执行已定义的过程</p><p>协调安全实施</p><p><strong>能力级别4：定量控制</strong></p><p><strong>公共特征</strong></p><p>建立可测的质量目标</p><p>客观地管理过程的执行</p><p><strong>能力级别５：连续改进</strong></p><p><strong>公共特征</strong></p><p>改进组织能力</p><p>改进过程的有效性</p><h5 id="域方面"><a href="#域方面" class="headerlink" title="域方面"></a>域方面</h5><p>工程和安全实施是安全工程过程中必须存在的性质，指出特殊过程区的目的并属于该过程区</p><p>每个过程区（PA）是一组相关安全工程过程的性质，当这些性质全部实施后则能够达到过程区定义的目的。</p><p><strong>一组过程区指出活动的同一通用区</strong></p><p><img src="//browallia.github.io/2019/06/14/软件安全设计/1.png" alt=""></p><h4 id="关于安全工程与评估"><a href="#关于安全工程与评估" class="headerlink" title="关于安全工程与评估"></a>关于安全工程与评估</h4><p><strong>安全工程分三个基本过程：风险、工程和保证</strong></p><p><strong>风险(风险信息)</strong></p><p><strong>风险过程是要<font color="red">确定</font>产品或者系统的危险性，并对这些危险性进行优先级排序</strong></p><p><strong>工程(解决方案)</strong></p><p><strong>工程过程是<font color="red">针对</font>面临的危险性，安全工程过程与相关工程过程一起来确定并实施解决方案</strong></p><p><strong>保证(保证论据)</strong></p><p><strong>保证过程是建立起对解决方案的<font color="red">信任</font>，并把这种信任传达给顾客</strong></p><h4 id="SSAM-SSE-CMM评定方法"><a href="#SSAM-SSE-CMM评定方法" class="headerlink" title="SSAM(SSE-CMM评定方法)"></a>SSAM(SSE-CMM评定方法)</h4><p>SSAM 为了进行评定，收集数据广泛、严格，每个数据有充分的证据。此方法在评定过程中最大程度地发挥了SSE-CMM模型的功效。</p><p>此方法：</p><ul><li>决定实施安全工程过程的能力</li><li>为了评定定义了安全工程环境</li><li>在评定时巧妙地使用了SSE-CMM体系结构中的两个方面。</li></ul><h3 id="SDL-安全开发生命周期模型"><a href="#SDL-安全开发生命周期模型" class="headerlink" title="SDL-安全开发生命周期模型"></a>SDL-安全开发生命周期模型</h3><p>Secure Development Lifecycle</p><p>微软可信计算(TrustWorthy Computing )努力的一个组成部分</p><ul><li>基于并行理念的标准软件开发过程</li><li>基于威胁建模和测试</li></ul><h4 id="SDL概览"><a href="#SDL概览" class="headerlink" title="SDL概览"></a>SDL概览</h4><p>SDL从三个方面考虑软件安全的保障。</p><h5 id="设计安全"><a href="#设计安全" class="headerlink" title="设计安全"></a>设计安全</h5><ul><li>为了保护软件自身以及软件处理的信息,并抵御攻击,软件应该从架构,设计和实现上进行考虑</li></ul><h5 id="缺省安全"><a href="#缺省安全" class="headerlink" title="缺省安全"></a>缺省安全</h5><ul><li><p>设计者应该假定安全缺陷将会出现。</p></li><li><p>为了当攻击者对软件存在的缺陷进行攻击时使损害降到最小, 软件的缺省状态应该保证安全。</p><p>比如 最小特权原则。</p></li></ul><h5 id="提交安全"><a href="#提交安全" class="headerlink" title="提交安全"></a>提交安全</h5><ul><li><p>工具和指南应该随着软件提供以帮助最终用户或管理员安全使用。</p></li><li><p>关于软件的更新应该容易提交。</p></li></ul><h4 id="SDL过程"><a href="#SDL过程" class="headerlink" title="SDL过程"></a>SDL过程</h4><p><strong>0：教育和意识</strong></p><p><strong>安全教育的内容</strong></p><p>安全设计基础：受攻击面分析、深度防御、最小特权、安全默认配置</p><p>威胁建模：设计威胁建模、编码威胁建模、测试威胁建模</p><p><strong>1：项目启动</strong></p><p>判断SDL是否覆盖应用、任命安全顾问、组建安全领导团队、确保在BUG追踪管理过程中包含安全、隐私类BUG、建立BUG标准</p><p><strong>2：定义并遵从设计最佳实践</strong></p><p><strong>常见安全设计原则</strong></p><p>经济机制、默认失效保护、安全中介、公开设计、权限分离、最小特权、最少公共机制、心里可接受程度</p><p><strong>受攻击面分析与降低</strong></p><p><strong>分析</strong></p><p>枚举所有接口、协议以及可执行代码的过程。</p><p><strong>软件的受攻击面</strong></p><p>代码、接口、服务、协议、其他</p><p><strong>降低</strong></p><p>核心观点：在所有代码中存在至少一个或多个漏洞的可能性一定不为零，一部分严重漏洞会导致用户不得不接受妥协。唯一解决上述问题的方法是将代码的利用率降至为零。</p><p><strong>受攻击面降低的方法：</strong></p><ul><li><p>降低默认执行的代码量</p></li><li><p>限制可访问到代码的人员范围</p></li><li><p>限定可访问到代码的人员身份</p></li><li><p>降低代码所需权限。</p></li></ul><p><strong>3：产品风险评估</strong></p><p><strong>安全风险评估</strong>、<strong>隐私影响分级</strong>、<strong>统一各种因素</strong></p><p><strong>4：风险分析</strong>/<strong>威胁建模</strong></p><p><strong>益处</strong></p><p>有助于整个风险管理过程</p><p>在系统进入编码阶段前发现系统威胁</p><p>开发团队通过威胁建模可以重新验证其架构与设计</p><p>有助于进一步明确针对应用以及环境采取相应的解决对策</p><p>有助于指导整个代码审核过程</p><p>指导整个渗透测试过程</p><p><strong>威胁建模过程</strong></p><ol><li><p>定义应用场景</p></li><li><p>收集外部依赖列表</p></li><li><p>定义安全假设</p></li><li><p>创建外部安全备注</p></li><li><p>绘制待建模应用的一个或多个数据流图</p></li><li><p>确定威胁类型</p></li><li><p>识别系统威胁</p></li><li><p>判断风险</p></li><li><p>规划消减措施</p></li></ol><p><strong>5：创建安全文档、工具以及客户最佳实践</strong></p><p><strong>6：安全编码策略</strong></p><p><strong>7：安全测试策略</strong></p><p>安全测试内容：模糊测试、渗透测试、运行时测试、重审威胁模型、重估受攻击模型</p><p><strong>8：安全推进过程</strong></p><p><strong>9：最终安全评审</strong></p><p><strong>10：安全响应规划</strong></p><p>使用SDL不能保证生产绝对安全的软件：</p><ul><li><p>开发团队一定会出错</p></li><li><p>新漏洞一定会变化</p></li><li><p>规则一定会变化</p></li></ul><p><strong>11：产品发布</strong></p><p><strong>12：遵从计划、尽可能补救、理解取舍之道</strong></p><h2 id="CH04软件安全测试"><a href="#CH04软件安全测试" class="headerlink" title="CH04软件安全测试"></a>CH04软件安全测试</h2><h3 id="软件安全测试"><a href="#软件安全测试" class="headerlink" title="软件安全测试"></a>软件安全测试</h3><p>安全性测试是指有关<strong>验证应用程序的安全等级和识别潜在安全性缺陷</strong>的过程。</p><p>应用程序级<strong>安全测试</strong>的主要目的是查找软件自身程序设计中存在的安全隐患，并检查应用程序对非法侵入的防范能力。</p><p>安全指标不同测试策略也不同。</p><h4 id="安全测试的法律问题"><a href="#安全测试的法律问题" class="headerlink" title="安全测试的法律问题"></a>安全测试的法律问题</h4><p>安全测试必须得到授权<br>安全测试工具的应用必须得到授权<br>穿透测试实验必须得到授权<br>在未得到明确授权的情况下，不允许针对第三方系统进行穿透测试的实验</p><h4 id="软件安全测试的方法"><a href="#软件安全测试的方法" class="headerlink" title="软件安全测试的方法"></a>软件安全测试的方法</h4><ul><li><strong>静态测试</strong></li></ul><p>主要通过对源代码进行安全扫描，根据程序中数据流、控制流、语义等信息与其特有软件安全规则库进行匹对，从中找出代码中潜在的安 全漏洞。</p><p>静态的源代码安全测试是非常有用的方法，可以在编码阶段找出所有可能存在安全风险的代码，这样开发人员可以在早期解决潜在的安全问题。</p><p>静态代码测试比较适用于早期的代码开发阶段，而不是测试阶段。</p><ul><li><strong>动态的测试</strong></li></ul><p>动态测试也称渗透测试，penetrate</p><p>渗透测试是常用的安全测试方法。是使用自动化工具或者人工的方法模拟黑客的输入，对应用系统进行攻击性测试，从中找出运行时刻所存在的安全漏洞。</p><p>渗透测试的特点就是真实有效，一般找出来的问题都是正确的，也是较为严重的。</p><p>渗透测试的缺点是模拟的测试数据只能到达有限的测试点，覆盖率很低。</p><ul><li><strong>程序数据扫描</strong></li></ul><p>一个有高安全性需求的软件， 在运行过程中数据是不能遭到破坏的，否则就会导致缓冲区溢出类型的攻击。</p><p>数据扫描的手段通常是进行内存测试，内存测试可以发现许多诸如缓冲区溢出之类的漏洞，而这类漏洞使用除此之外的测试手段都难以发现。</p><p>例如，利用专门的工具对软件运行时的内存信息进行扫描，检查是否存在导致隐患的信息。</p><h4 id="安全测试点"><a href="#安全测试点" class="headerlink" title="安全测试点"></a>安全测试点</h4><ul><li><p>程序安全性测试</p></li><li><p>数据安全性测试</p></li></ul><h4 id="典型问题"><a href="#典型问题" class="headerlink" title="典型问题"></a>典型问题</h4><h5 id="程序安全性测试典型问题参考"><a href="#程序安全性测试典型问题参考" class="headerlink" title="程序安全性测试典型问题参考"></a><strong>程序安全性测试典型问题参考</strong></h5><p>① 明确区分系统中不同用户权限;</p><p>② 系统中会不会出现用户冲突;</p><p>③ 系统会不会因用户的权限的改变造成混乱;</p><p>④ 用户登陆密码是否是可见、可复制;</p><p>⑤ 是否可以通过绝对途径登陆系统(拷贝用户登陆后的链接直接进入系统);</p><p>⑥ 用户推出系统后是否删除了所有鉴权标记，是否可以使用后退键而不通过输入口令进入系统。</p><h5 id="网络安全测试典型问题参考"><a href="#网络安全测试典型问题参考" class="headerlink" title="网络安全测试典型问题参考"></a><strong>网络安全测试典型问题参考</strong></h5><p>① 测试采取的防护措施是否正确装配好，有关系统的补丁是否打上;</p><p>② 模拟非授权攻击，看防护系统是否坚固;</p><p>③ 采用成熟的网络漏洞检查工具检查系统相关漏洞;</p><p>④ 采用各种木马检查工具检查系统木马情况;</p><p>⑤ 采用各种防外挂工具检查系统各组程序的客外挂漏洞。</p><h5 id="数据安全测试考虑问题参考："><a href="#数据安全测试考虑问题参考：" class="headerlink" title="数据安全测试考虑问题参考："></a><strong>数据安全测试考虑问题参考：</strong></h5><p>① 系统数据是否机密(比如对银行系统，这一点就特别重要，一般的网站就没有太高要求);</p><p>② 系统数据的完整性;</p><p>③ 系统数据可管理性;</p><p>④ 系统数据的独立性;</p><p>⑤ 系统数据可备份和恢复能力(数据备份是否完整，可否恢复，恢复是否可以完整)。</p><h3 id="安全漏洞分级"><a href="#安全漏洞分级" class="headerlink" title="安全漏洞分级"></a>安全漏洞分级</h3><h4 id="DREAD模型"><a href="#DREAD模型" class="headerlink" title="DREAD模型"></a>DREAD模型</h4><p><strong>DREAD模型</strong>：进行威胁程度级别分析的有效技术。</p><ul><li><p><strong>潜在的破坏（Damage potential）</strong></p><ul><li>如果该漏洞被利用，所产生的破坏程度</li></ul></li><li><p><strong>再现性（Reproducibility）</strong></p><ul><li>探测并利用该漏洞所需要的努力要多久</li></ul></li><li><p><strong>可利用性（Exploitability）</strong></p><ul><li>是否需要身份鉴别？</li></ul></li><li><p><strong>受影响用户（Affected users）</strong></p><ul><li>漏洞利用的影响面有多大</li></ul></li><li><p><strong>可发现性（Discoverability）</strong></p><ul><li>漏洞研究人员或黑客找出该漏洞的可能性</li></ul></li></ul><h4 id="TRAP模型"><a href="#TRAP模型" class="headerlink" title="TRAP模型"></a>TRAP模型</h4><p>基于可利用性提出。</p><p><strong>因素：</strong></p><p>时间（Time）</p><p>可靠性（Reliability）/再现性（Reproducibility）</p><p>访问（Access）</p><p>定位（Positioning）</p><h3 id="安全的常规测试方法"><a href="#安全的常规测试方法" class="headerlink" title="安全的常规测试方法"></a>安全的常规测试方法</h3><h4 id="基于风险的安全测试"><a href="#基于风险的安全测试" class="headerlink" title="基于风险的安全测试"></a>基于风险的安全测试</h4><p><strong>安全测试的目标</strong></p><p>在给定的时间和资源不变的情况下，尽可能多地找出最为严重的安全缺陷。</p><p><strong>威胁建模=风险建模</strong></p><p>基于风险的测试是软件测试的常规方法</p><h5 id="基于风险的测试的三个步骤"><a href="#基于风险的测试的三个步骤" class="headerlink" title="基于风险的测试的三个步骤"></a>基于风险的测试的三个步骤</h5><ol><li><p><strong>信息搜集</strong></p><p><strong>信息搜集的目的：</strong>熟悉程序的设计、了解程序访问入口点位置、了解程序所涉及的信息资产－需要保护的信息</p><p><strong>信息搜集的方法：</strong>程序设计文档的评审、与设计人员和架构师会谈、运行时分析－使用调试和诊断程序</p></li><li><p><strong>威胁（风险）建模</strong></p><p><strong>威胁建模的目的：</strong>排定测试优先级，找出测试区域，发现系统弱点</p><p><strong>威胁建模步骤：</strong></p><ol><li><p><strong>识别威胁路径</strong>：</p><p><strong>目的：</strong>识别应用程序级别最高的风险领域，确定相应的保护措施</p><p><strong>步骤：</strong></p><p>①了解应用程序平台和编程语言的整体强度</p><p>②确定用户的访问类别</p><p>③建立并分析数据流图</p></li><li><p><strong>识别威胁：</strong></p><p><strong>目的：</strong>深入识别沿威胁路径的处理，逐一理清与处理相关的每一种威胁。</p><p><strong>针对威胁路径的每一个处理组件的问题列表：</strong></p><p>–该组件执行什么样的处理</p><p>–该组件如何确定身份</p><p>–该组件信任数据或者其他组件吗</p><p>–该组件修改了什么数据</p><p>–该组件有何外部连接</p><p><strong>在一个威胁路径上的9个高风险活动：</strong></p><p>①数据解析 ②文件访问 ③数据库访问 ④生成子进程 ⑤身份鉴别 ⑥授权 ⑦同步或会话管理 ⑧处理私密数据 ⑨网络访问</p></li><li><p><strong>识别漏洞</strong></p><p><strong>目的：</strong>找出可能存在于组件中的实际漏洞。</p><p><strong>缓解措施：</strong></p><p>–数据验证测试</p><p>–资源监视</p><p>–关键功能的访问控制</p><p><strong>搜寻漏洞的方法及途径：</strong></p><p>–安全设计审查</p><p>–安全代码审查</p><p>–安全测试</p></li><li><p><strong>风险分级/排定优先级</strong></p></li></ol></li><li><p><strong>可用性分析</strong></p><p><strong>判定可利用性的目的：</strong>判断漏洞是否可被攻击者利用。</p><p><strong>原则：</strong>在开发中直接修补一个可能会被利用的问题比花时间判定其是否会被利用容易</p></li></ol><h4 id="白盒、黑盒和灰盒测试"><a href="#白盒、黑盒和灰盒测试" class="headerlink" title="白盒、黑盒和灰盒测试"></a>白盒、黑盒和灰盒测试</h4><h5 id="白盒测试"><a href="#白盒测试" class="headerlink" title="白盒测试"></a>白盒测试</h5><p>也称明盒测试、开盒测试或信息充分测试。</p><p>白盒测试可以看作是内部的攻击。</p><p>测试人员可以访问源代码和设计文档，可以进行威胁建模或逐行的代码检查。</p><p>白盒测试是找出漏洞最为有效的方法。</p><h5 id="黑盒测试"><a href="#黑盒测试" class="headerlink" title="黑盒测试"></a>黑盒测试</h5><p>以局外人的身份对系统进行攻击，使用工具检查系统的攻击面，并探查系统的内部信息。</p><p>黑盒测试是白盒测试的补充。</p><p>方向工程团队利用黑盒测试验证隐蔽式安全方法的强度。</p><h5 id="灰盒测试"><a href="#灰盒测试" class="headerlink" title="灰盒测试"></a>灰盒测试</h5><p>组合使用白盒测和黑盒测试。</p><p>–白盒测试用于发现在设计和开发中详细说明的功能中的缺陷；</p><p>–黑盒测试在无法了解程序内部信息的时候找出缺陷。</p><p>程序开发中的调试运行是典型的灰盒测试方法。</p><h4 id="典型安全测试工具"><a href="#典型安全测试工具" class="headerlink" title="典型安全测试工具"></a>典型安全测试工具</h4><p><strong>JAVA代码安全分析工具：</strong></p><p>–IBM AppScan Source Edition</p><p>–Fotify Static Code Analyzer</p><p>–Findbugs</p><p><strong>C++代码安全分析工具：</strong></p><p>–C++Test</p><p>–IBM AppScan Source Edition</p><p>–Fotify Static Code Analyzer</p><p>Visual Studio（27.78%）</p><p><strong>JavaScript代码安全工具：</strong></p><p>–Google’s Closure Compiler</p><p>–JSHint</p><p><strong>Python代码安全工具：</strong></p><p>–Pychecker</p><p>–PyCharm</p><p>–Pylint</p><p>–PySEC，开源</p><p><strong>WEB应用安全测试工具：</strong></p><p>IBM AppScan</p><p>SoapUI</p><p>HP的WebInspect</p><p><strong>WEB应用的开源工具：</strong></p><p>Firebug</p><p>OWASP ZAP</p><p><strong>Android App安全测试工具：</strong></p><p>Android Tamer</p><p>AndroBugs</p><p>Mobisec</p><p><strong>SQL注入测试工具：</strong></p><p>SQLInjetor</p><p>SQL Power Injector</p><p>OWASP SQLiX</p><p><strong>网络状态监控与分析工具：</strong></p><p>Wireshark</p><h2 id="CH05编写安全的代码"><a href="#CH05编写安全的代码" class="headerlink" title="CH05编写安全的代码"></a>CH05编写安全的代码</h2><h3 id="SD3"><a href="#SD3" class="headerlink" title="SD3"></a>SD3</h3><h4 id="安全设计"><a href="#安全设计" class="headerlink" title="安全设计"></a>安全设计</h4><ul><li><p>安排具体的安全设计的人员；</p></li><li><p>进行安全教育；</p></li><li><p>确保威胁分析已经完成；</p></li><li><p>符合安全设计和编码的指导原则；</p></li><li><p>尽可能修补任何安全编程指南上的BUG;</p></li><li><p>确保安全指南是逐步改进的；</p></li><li><p>针对已经修复的缺陷开发回归测试；</p></li><li><p>简化代码和安全模型；</p></li><li><p>在打包以前完成穿透测试。</p></li></ul><h4 id="缺省安全-1"><a href="#缺省安全-1" class="headerlink" title="缺省安全"></a>缺省安全</h4><ul><li><p>缺省状态下，不要设置所有的特点和功能；</p></li><li><p>允许最小权限；</p></li><li><p>恰当的资源保护。</p></li></ul><h4 id="安全提交"><a href="#安全提交" class="headerlink" title="安全提交"></a>安全提交</h4><ul><li><p>确认程序给管理员提供了安全功能；</p></li><li><p>尽可能提供高质量的补丁；</p></li><li><p>提供足够的信息以使用户安全的使用软件。</p></li></ul><h3 id="安全规则"><a href="#安全规则" class="headerlink" title="安全规则"></a>安全规则</h3><ul><li><p>学习错误；</p></li><li><p>最小化攻击面；</p></li><li><p>使用深度防御；</p></li><li><p>使用最小权限；</p></li><li><p>应用缺省安全；</p></li><li><p>记住兼容性的倒退是痛苦的；</p></li><li><p>假定外部系统是不安全的；</p></li><li><p>基于错误计划；</p></li><li><p>切记安全的特性不等于安全特性；</p></li><li><p>Never depend on security through obscurity( 朦胧，晦涩，不分明) alone</p></li><li><p>不要混合编码和数据；</p></li><li><p>正确修复安全问题。</p></li></ul><h4 id="学习错误"><a href="#学习错误" class="headerlink" title="学习错误"></a>学习错误</h4><p>学习错误从填写一个文档开始，文档内容：<br>产品名称；产品版本；联系人；BUG数据库编号；<br>脆弱性描述；脆弱性的隐含意义；<br>在产品的缺省安装中，这个问题是否存在？<br>设计，开发和测试人员能够做什么来防止这个缺陷？<br>修复的细节，包括代码的区别，如果可以填写。</p><h4 id="最小化攻击面"><a href="#最小化攻击面" class="headerlink" title="最小化攻击面"></a>最小化攻击面</h4><p>需要计算下面的内容：<br>（1）打开socket、命名管道、RPC端点的数量；<br>（2）服务的数量；缺省运行服务的数量；服务以提高权限运行的数量；<br>（3）ISAPI过滤器和应用的数量；动态WEB页面数量；加入管理员组帐号的数量；<br>（4）文件，目录和注册键值的数量，带有弱访问控制列表。</p><h2 id="CH06信息系统的安全建模莫分析"><a href="#CH06信息系统的安全建模莫分析" class="headerlink" title="CH06信息系统的安全建模莫分析"></a>CH06信息系统的安全建模莫分析</h2><h3 id="信息系统及其特征"><a href="#信息系统及其特征" class="headerlink" title="信息系统及其特征"></a>信息系统及其特征</h3><h4 id="MIS"><a href="#MIS" class="headerlink" title="MIS"></a>MIS</h4><p>MIS是借助于自动化数据处理手段进行管理的系统，由计算机硬件、软件（包括：系统软件、应用软件和管理学软件包）、数据库各种规程和人共同组成。</p><p>是由人、计算机等组成的能进行管理信息的收集、传递、加工的信息系统。</p><h5 id="主要特征"><a href="#主要特征" class="headerlink" title="主要特征"></a>主要特征</h5><ul><li><p>依赖于计算机的；</p></li><li><p>涉及了计算机的软件和硬件；</p></li><li><p>实现数据的采集、传递、加工、处理功能。</p></li></ul><h5 id="系统主要特性"><a href="#系统主要特性" class="headerlink" title="系统主要特性"></a>系统主要特性</h5><p>1 整体性—系统的各个部分一定以整体目标为目标，追求全局最优；</p><p>2 目的性—一个系统一定是具有明确目标的，并完成一定的功能；</p><p>3 层次性—一个系统可以分为若干层次和子系统；</p><p>4 边界性—每一个系统都能够明显地区别于其他系统，系统之间有明确的界限；</p><p>5 关联性—系统包括若干元素，元素之间存在一定的关联性；</p><p>6 环境性—系统处于一定的环境之中并受环境影响。</p><h5 id="信息系统的类型"><a href="#信息系统的类型" class="headerlink" title="信息系统的类型"></a>信息系统的类型</h5><p>宏观的国家经济信息系统；</p><p>面向基层的企事业管理信息系统；</p><p>事务型管理信息系统；</p><p>办公型管理信息系统；</p><p>专业型管理信息系统等；</p><p>既有典型的MRP，ERP，SCM等通用的信息系统，也有针对特定业务的系统。</p><p>许许多多以计算机为核心的，实现数据的采集、存储、操作的系统都属于信息系统的范畴。</p><h5 id="运行环境要素"><a href="#运行环境要素" class="headerlink" title="运行环境要素"></a>运行环境要素</h5><ol><li><p>物理世界；</p></li><li><p>管理者实体—拥有授权管理、变更、修复和使用系统的人或者其他系统，其中一些被授权人可能缺乏有效管理系统的能力或具有恶意的目的；</p></li><li><p>使用者—在使用界面接受来自系统的服务的实体；</p></li><li>提供者—在系统的使用界面提供服务的实体；</li><li>基础组织—对系统提供信息源、通信链接、能源、冷气等特定服务的实体；</li><li>入侵者—企图超越所拥有的权限并且变更服务或阻止服务，变更系统的功能或性能或者存取秘密信息的实体。</li></ol><h3 id="信息系统的安全问题"><a href="#信息系统的安全问题" class="headerlink" title="信息系统的安全问题"></a>信息系统的安全问题</h3><p><strong>ISO7498-2标准中所定义的五种安全服务类型：</strong></p><ul><li><p>身份鉴别（Authentication）</p></li><li><p>访问控制（Access Control）</p></li><li><p>数据保密（Data Confidentiality）</p></li><li><p>数据完整性（ Data integrity）</p></li><li><p>抗抵赖（Non-reputation）</p></li></ul><h3 id="安全模型"><a href="#安全模型" class="headerlink" title="安全模型"></a>安全模型</h3><p><strong>系统使用者：</strong></p><p>用户 系统管理员 信息主管(企业主管)</p><p><strong>系统划分：</strong></p><p>用户界面逻辑 业务逻辑 异常检测机</p><p><strong>系统安全实现的主要功能：</strong></p><p>访问控制 抗抵赖 数据保密 身份鉴别</p><p>授权机制 日志审计 系统异常探测</p><h4 id="用户界面逻辑"><a href="#用户界面逻辑" class="headerlink" title="用户界面逻辑"></a>用户界面逻辑</h4><p>用户界面逻辑部分：数据访问、登录控制。</p><p>在系统启动时，用户首先登录系统，通过系统验证后才可以完成数据访问功能。</p><h5 id="登录控制"><a href="#登录控制" class="headerlink" title="登录控制"></a>登录控制</h5><p><strong>主要功能：</strong>口令验证，口令修改，口令数据的加密，登录时间记录</p><p><strong>设计考虑：</strong></p><ol><li>用户ID：从权限数据中提取出相应的用户名。采用用户编号的原因是回避重名，简化输入，同时用户号本身也可以增加一定的安全性。</li><li>用户修改口令，而不是系统管理员：系统管理员<strong>对用户授权</strong>，但是口令由用户在用户界面输入，并加密存储至后台数据库中，以避免系统管理员获取用户口令造成泄密</li><li>初始口令的安全：系统的第一次运行关键是初始口令的赋予，由信息主管（或其他高层）完成用户身份的确认，同时要求用户第一次登录时必须更改初始口令。</li><li>口令安全：口令长度限制；口令字符集限制；口令有效期限制。</li><li>用户封锁：所谓的用户封锁是当出现用户多次登录系统失败的情况时，系统将锁定用户的操作并提示，解锁过程必须由系统管理员完成。</li></ol><h4 id="业务逻辑"><a href="#业务逻辑" class="headerlink" title="业务逻辑"></a>业务逻辑</h4><p>在系统的业务逻辑部分主要包括<strong>数据服务、权限管理、日志审计</strong>三个部分。</p><h5 id="数据服务"><a href="#数据服务" class="headerlink" title="数据服务"></a>数据服务</h5><p>主要安全任务是完成特定数据的加密、解密，日志数据的存储，权限及用户信息的存储。</p><h5 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h5><p>完成用户的授权，包括两个部分：系统管理员和信息主管。信息主管负责系统启动和初始授权，系统管理员负责日常权限管理、日志审计、系统状态监控、异常监测、用户锁定处理。</p><h5 id="日志审计"><a href="#日志审计" class="headerlink" title="日志审计"></a>日志审计</h5><p>对用户的操作行为进行跟踪，提供根据时间、用户、系统的检索手段。是保证安全，提高安全可信性的重要手段。</p><h4 id="异常探测机"><a href="#异常探测机" class="headerlink" title="异常探测机"></a>异常探测机</h4><p>异常探测机实现的主要功能：</p><p>–是日志的分析；</p><p>–网络状态的安全监测；</p><p>–提供一定的日志文件保护机制。</p><p><strong>异常检测独立于业务逻辑的目的</strong></p><p>1独立的程序，便于进一步发展，有较大的发展空间；</p><p>2位于业务和用户进程之外，能够对其进行监控；</p><p>3不对信息系统运行发生干扰；</p><p>4使该探测器成为系统的可选件。</p><h5 id="异常行为探测"><a href="#异常行为探测" class="headerlink" title="异常行为探测"></a>异常行为探测</h5><div class="table-container"><table><thead><tr><th style="text-align:center">区别内容</th><th style="text-align:center">异常探测机</th><th style="text-align:center">IDS</th></tr></thead><tbody><tr><td style="text-align:center">检测范围</td><td style="text-align:center">网络内部行为</td><td style="text-align:center">网络外部行为</td></tr><tr><td style="text-align:center">实现方式</td><td style="text-align:center">软件</td><td style="text-align:center">硬件</td></tr><tr><td style="text-align:center">与系统关系</td><td style="text-align:center">可以存取系统数据</td><td style="text-align:center">不能存取系统数据</td></tr><tr><td style="text-align:center">保护目标</td><td style="text-align:center">信息系统</td><td style="text-align:center">网路</td></tr></tbody></table></div><h5 id="异常行为"><a href="#异常行为" class="headerlink" title="异常行为"></a>异常行为</h5><p><strong>用户身份的攻击：</strong>非法用户针对用户ID进行攻击，试图猜测用户身份。</p><p><strong>口令攻击：</strong>在已知用户身份的情况下，猜测口令，进行口令攻击。</p><p><strong>服务器的异常访问：</strong>这里是指服务器计算机和WEB<br>SERER等专用服务程序。类似DOS攻击的方式在局域网内也是有可能发生的。</p><p><strong>数据库异常连接：</strong>对数据库的访问主要是通过特定端口进行的，可能的威胁来自合法的客户端程序或者非法的客户端程序。</p><p><strong>数据库文件变动异常：</strong>系统中数据库文件的变动包括文件访问、拷贝、删除等操作。</p><p><strong>日志文件攻击：</strong>针对日志文件发起的包括文件删除、修改等非法操作。</p><h5 id="日志分析"><a href="#日志分析" class="headerlink" title="日志分析"></a>日志分析</h5><p><strong>针对日志文件自身的攻击主要有：</strong></p><ul><li>日志数据的删除<ul><li>系统本身不向用户提供日志数据的删除功能。</li><li>针对非法用户的攻击，如果是单独的日志文件，当系统启动后，该文件置于异常探测机的保护之下</li><li>如果是数据库数据，则依赖于操作系统和数据库本身的保护机制。</li><li>无论是系统操作员还是系统管理员的合法用户不具有日志文件删除的能力，而来自于客户端和服务器端的非法用户受到异常探测机、操作系统、数据库系统的安全机制约束。</li></ul></li><li>日志数据的修改<ul><li>系统不向用户提供日志修改功能。日志浏览也作为重要功能进行授权。</li><li>由于单独的日志文件置于了异常探测机的保护之下，所以可以避免合法用户的修改。非法用户试图对记录于数据库中的日志数据进行修改时，则受到操作系统和数据库系统的约束。</li></ul></li></ul><h6 id="日志数据审计和异常模式"><a href="#日志数据审计和异常模式" class="headerlink" title="日志数据审计和异常模式"></a><strong>日志数据审计和异常模式</strong></h6><ol><li>手动审计</li><li>自动审计和报警</li></ol><h5 id="网络异常探测机"><a href="#网络异常探测机" class="headerlink" title="网络异常探测机"></a>网络异常探测机</h5><p>网络异常探测机的主要功能是针对来自网络的信息进行分析，提供对信息系统的保护报警。</p><p>探测器并不是通用的系统异常探测器。</p><p><strong>功能</strong>：数据流量检测、服务端口连接数量检测、文件访问限制、日志文件保护</p><h2 id="CH07WEB应用安全"><a href="#CH07WEB应用安全" class="headerlink" title="CH07WEB应用安全"></a>CH07WEB应用安全</h2><h3 id="WEB应用"><a href="#WEB应用" class="headerlink" title="WEB应用"></a>WEB应用</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><ul><li>采用HTTP协议完成通信的应用程序</li><li><p>与后台WEB Server实现交互的程序</p></li><li><p>与互联网（Internet）服务器，包括Web Server，database server进行交互的程序</p></li><li><p>位于中间层，进行数据交互或者其他服务程序</p></li></ul><h4 id="安全现状"><a href="#安全现状" class="headerlink" title="安全现状"></a>安全现状</h4><ul><li><p>实现WEB应用安全非常困难</p><ul><li>WEB应用环境包括多个系统</li><li>WEB应用大部分运行于INTERNET，具有更广的攻击面</li></ul></li><li><p>在WEB应用的运行中，具有更多的临时决策，以支持系统的运行，系统状态具有更多的可变性</p></li><li><p>许多支持系统没有得到恰当的保护</p></li></ul><h4 id="微软WEB应用安全框架"><a href="#微软WEB应用安全框架" class="headerlink" title="微软WEB应用安全框架"></a>微软WEB应用安全框架</h4><h5 id="WEB应用安全建模"><a href="#WEB应用安全建模" class="headerlink" title="WEB应用安全建模"></a>WEB应用安全建模</h5><p><strong>活动：</strong>Web 应用程序的威胁建模</p><p><strong>目的：</strong>确定方案中的相关威胁和漏洞，以帮助您构建应用程序的安全设计。</p><p><strong>输入：</strong></p><p>•主要用例和使用方案<br>•数据流<br>•数据架构<br>•部署关系图</p><p><strong>输出：</strong></p><p>•威胁列表<br>•漏洞列表</p><p><strong>五个步骤：</strong></p><p><strong>步骤</strong> <strong>1</strong> <strong>：确定安全目标。</strong>目标清晰有助于将注意力集中在威胁建模活动上，以及确定后续步骤要做多少工作。<br><strong>步骤</strong> <strong>2</strong> <strong>：创建应用程序概述。</strong>逐条列出应用程序的重要特征和参与者有助于在步骤 4 中确定相关威胁。<br><strong>步骤</strong> <strong>3</strong> <strong>：分解应用程序。</strong>全面了解应用程序的结构可以更轻松地发现更相关、更具体的威胁。<br><strong>步骤</strong> <strong>4</strong> <strong>：确定威胁。</strong>使用步骤 2 和 3 中的详细信息来确定与应用程序方案和上下文相关的威胁。<br><strong>步骤</strong> <strong>5</strong> <strong>：确定漏洞。</strong>检查应用程序的各层以确定与威胁有关的弱点。使用漏洞类别来帮助关注最常出现错误的区域。</p><h5 id="WEB应用安全框架"><a href="#WEB应用安全框架" class="headerlink" title="WEB应用安全框架"></a>WEB应用安全框架</h5><p>输入和数据验证<br>身份验证<br>授权<br>配置管理<br>敏感数据<br>会话管理<br>加密<br>参数操作<br>异常管理<br>审核与记录</p><h5 id="一个WEB应用安全模型"><a href="#一个WEB应用安全模型" class="headerlink" title="一个WEB应用安全模型"></a>一个WEB应用安全模型</h5><p>威胁建模：一种用于理解和消除系统安全威胁的形式化的方法</p><p><strong>方法：</strong></p><p><strong>信息收集</strong></p><p>•定位文档（Locate written document）<br>•访问相关人员（Interview stakeholders）<br>•探查系统（Inspect system）</p><p><strong>分析</strong></p><p>•用户Users<br>•构件，资产，动机 Components, assets, and motivation<br>•入口 Entry points<br>•弱点和威胁 Weaknesses and threats</p><p><strong>威胁消除</strong></p><p>•建立预算 Establish your budget.<br>•排序处理 Rank treats using a model that works for you.<br>•确立针对威胁的工作 Decide what to do with threats.</p><p><strong>消除选择：</strong></p><p>•忽略 Ignore risk. (<strong>Popular choice!</strong>)<br>•消除 Mitigate risk：入侵代价昂贵、安全代价昂贵、能够承受？<br>•接受 Accept risk.</p><p><strong>消除策略：</strong></p><p>•移除入口点.<br>•减少攻击面.<br>•区分.<br>•最小优先权原则</p><p><strong>消除技巧：</strong></p><p>•不要过度宽泛以避免不能自拔。建立子模型分支以处理复杂性。<br>•多数WEB APP具有共性-开发可重用的威胁模型库。<br>•由一个草稿开始（scratch），并且不要做任何假定。消除多数明显的（foolproof）威胁将导致简单的操作过程.</p><h2 id="CH08安全工程过程模型"><a href="#CH08安全工程过程模型" class="headerlink" title="CH08安全工程过程模型"></a>CH08安全工程过程模型</h2><h3 id="核心工作"><a href="#核心工作" class="headerlink" title="核心工作"></a>核心工作</h3><p>①安全目标定义<br>②敏感数据分析<br>③威胁分析<br>④安全设计<br>⑤受攻击面分析<br>⑥安全实现<br>⑦安全测试<br>⑧安全维护</p><h3 id="过程模型"><a href="#过程模型" class="headerlink" title="过程模型"></a>过程模型</h3><p><img src="//browallia.github.io/2019/06/14/软件安全设计/2.png" alt=""></p><h3 id="过程实施要点"><a href="#过程实施要点" class="headerlink" title="过程实施要点"></a>过程实施要点</h3><h4 id="安全实施能力培养"><a href="#安全实施能力培养" class="headerlink" title="安全实施能力培养"></a>安全实施能力培养</h4><p>团队安全能力范畴：<br>①软件安全的概念与意识；<br>②典型安全问题；<br>③开发语言的安全问题与工具；<br>④安全设计方法；<br>⑤数据及其敏感性；<br>⑥攻击面；<br>⑦威胁建模与分析；<br>⑧信息安全法律与政策；</p><h4 id="安全目标定义"><a href="#安全目标定义" class="headerlink" title="安全目标定义"></a>安全目标定义</h4><p>确定本项目需要达到的安全目标。形成规范的文档，作为工程过程中的指导原则。<br>安全目标定义应包括的内容：</p><p>①软件名称；<br>②软件开发目标及主要功能概述；<br>③软件主要用户及其分析；<br>④软件的关键信息与数据；<br>⑤软件各个部分及其总体需要达到的安全水平。</p><h4 id="资源及敏感数据分析"><a href="#资源及敏感数据分析" class="headerlink" title="资源及敏感数据分析"></a>资源及敏感数据分析</h4><p>确定本项目实施中所涉及的敏感数据，进行分类，给出明确的定义和敏感程度，以及保护措施。<br>软件操作的资源：网络端口，文件，服务器，URL，数据库…<br>软件操作的主要数据：</p><div class="table-container"><table><thead><tr><th style="text-align:center">数据名</th><th style="text-align:center">类型</th><th style="text-align:center">作用</th><th style="text-align:center">敏感程度</th><th style="text-align:center">安全要求</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><h4 id="威胁分析"><a href="#威胁分析" class="headerlink" title="威胁分析"></a>威胁分析</h4><p>分析系统用户，部署，功能，确定系统威胁来源。<br>明确：系统关键工程，部署，各个部分及功能用户</p><div class="table-container"><table><thead><tr><th style="text-align:center">威胁名称</th><th style="text-align:center">威胁来源</th><th style="text-align:center">说明</th><th style="text-align:center">重要程度</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><h4 id="安全设计-1"><a href="#安全设计-1" class="headerlink" title="安全设计"></a>安全设计</h4><p>根据安全目标，敏感数据，威胁分析的内容，实现安全设计。包括架构，安全问题的应对措施等。<br>需明确：<br>①系统架构与安全性问题<br>②安全问题及其应对措施<br>③架构与安全目标的响应<br>④敏感数据的保护措施<br>⑤威胁的应对措施</p><h4 id="受攻击面分析"><a href="#受攻击面分析" class="headerlink" title="受攻击面分析"></a>受攻击面分析</h4><p>与安全设计对应，根据设计的架构，以及敏感信息，对受攻击面及攻击路径进行分析。<br>典型的受攻击面包括：端口，数据，文件…</p><div class="table-container"><table><thead><tr><th style="text-align:center">攻击面</th><th style="text-align:center">类别</th><th style="text-align:center">威胁来源</th><th style="text-align:center">重要程度</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><h4 id="安全实现"><a href="#安全实现" class="headerlink" title="安全实现"></a>安全实现</h4><h4 id="安全测试"><a href="#安全测试" class="headerlink" title="安全测试"></a>安全测试</h4><h4 id="安全维护"><a href="#安全维护" class="headerlink" title="安全维护"></a>安全维护</h4></div><footer class="post-footer"><div class="post-tags"><a href="/tags/软件安全/" rel="tag"># 软件安全</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/04/22/POSIX信号量/" rel="next" title="POSIX信号量"><i class="fa fa-chevron-left"></i> POSIX信号量</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/07/25/CS231n-note-1/" rel="prev" title="CS231n note-1">CS231n note-1 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC80MDA1MS8xNjU3OA=="></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/header.gif" alt="BROWALLIA"><p class="site-author-name" itemprop="name">BROWALLIA</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">7</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">10</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/browallia" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a></span></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#软件安全设计"><span class="nav-number">1.</span> <span class="nav-text">软件安全设计</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CH01软件与软件安全"><span class="nav-number">1.1.</span> <span class="nav-text">CH01软件与软件安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#计算环境与软件"><span class="nav-number">1.1.1.</span> <span class="nav-text">计算环境与软件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#二进制基础"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">二进制基础</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#位运算"><span class="nav-number">1.1.1.1.1.</span> <span class="nav-text">位运算</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#指令系统与指令集"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">指令系统与指令集</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#软件的形式与概念"><span class="nav-number">1.1.2.</span> <span class="nav-text">软件的形式与概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#软件"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">软件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#信息安全与软件安全"><span class="nav-number">1.1.3.</span> <span class="nav-text">信息安全与软件安全</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#信息与信息安全"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">信息与信息安全</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#软件安全"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">软件安全</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ISO7498-2"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">ISO7498-2</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#主要内容"><span class="nav-number">1.1.3.3.1.</span> <span class="nav-text">主要内容</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5种安全服务"><span class="nav-number">1.1.3.3.2.</span> <span class="nav-text">5种安全服务</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8种安全机制"><span class="nav-number">1.1.3.3.3.</span> <span class="nav-text">8种安全机制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5种普遍性安全管理机制"><span class="nav-number">1.1.3.3.4.</span> <span class="nav-text">5种普遍性安全管理机制</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#软件安全的概念"><span class="nav-number">1.1.3.4.</span> <span class="nav-text">软件安全的概念</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#漏洞"><span class="nav-number">1.1.3.4.1.</span> <span class="nav-text">漏洞</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#脆弱状态"><span class="nav-number">1.1.3.4.2.</span> <span class="nav-text">脆弱状态</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#攻击"><span class="nav-number">1.1.3.4.3.</span> <span class="nav-text">攻击</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#安全事件"><span class="nav-number">1.1.3.4.4.</span> <span class="nav-text">安全事件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ISO9126标准"><span class="nav-number">1.1.3.5.</span> <span class="nav-text">ISO9126标准</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6个质量特性"><span class="nav-number">1.1.3.5.1.</span> <span class="nav-text">6个质量特性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9126质量模型缺陷"><span class="nav-number">1.1.3.5.2.</span> <span class="nav-text">9126质量模型缺陷</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH02典型软件安全问题"><span class="nav-number">1.2.</span> <span class="nav-text">CH02典型软件安全问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安全问题的来源"><span class="nav-number">1.2.1.</span> <span class="nav-text">安全问题的来源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#漏洞-1"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#产生漏洞的原因"><span class="nav-number">1.2.1.1.1.</span> <span class="nav-text">产生漏洞的原因</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#漏洞的两种类型"><span class="nav-number">1.2.1.1.2.</span> <span class="nav-text">漏洞的两种类型</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#意外行为和缺陷"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">意外行为和缺陷</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#缺陷的类型："><span class="nav-number">1.2.1.2.1.</span> <span class="nav-text">缺陷的类型：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#APPLE-DEVELOPER常见软件缺陷"><span class="nav-number">1.2.1.2.2.</span> <span class="nav-text">APPLE DEVELOPER常见软件缺陷</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见的安全设计问题"><span class="nav-number">1.2.2.</span> <span class="nav-text">常见的安全设计问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编程语言问题"><span class="nav-number">1.2.3.</span> <span class="nav-text">编程语言问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#C-C-的问题"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">C/C++的问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#平台的实现问题"><span class="nav-number">1.2.4.</span> <span class="nav-text">平台的实现问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见的应用程序安全问题"><span class="nav-number">1.2.5.</span> <span class="nav-text">常见的应用程序安全问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开发过程问题"><span class="nav-number">1.2.6.</span> <span class="nav-text">开发过程问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#部署上的薄弱性"><span class="nav-number">1.2.6.1.</span> <span class="nav-text">部署上的薄弱性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OWASP"><span class="nav-number">1.2.7.</span> <span class="nav-text">OWASP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#OWASP-Top-10"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">OWASP Top 10</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH03安全软件工程"><span class="nav-number">1.3.</span> <span class="nav-text">CH03安全软件工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SSE-CMM"><span class="nav-number">1.3.1.</span> <span class="nav-text">SSE-CMM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#开发SSE-CMM的目的"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">开发SSE-CMM的目的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#主要内容-1"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">主要内容</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#能力方面"><span class="nav-number">1.3.1.2.1.</span> <span class="nav-text">能力方面</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#能力级别"><span class="nav-number">1.3.1.2.1.1.</span> <span class="nav-text">能力级别</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#域方面"><span class="nav-number">1.3.1.2.2.</span> <span class="nav-text">域方面</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#关于安全工程与评估"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">关于安全工程与评估</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SSAM-SSE-CMM评定方法"><span class="nav-number">1.3.1.4.</span> <span class="nav-text">SSAM(SSE-CMM评定方法)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SDL-安全开发生命周期模型"><span class="nav-number">1.3.2.</span> <span class="nav-text">SDL-安全开发生命周期模型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SDL概览"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">SDL概览</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#设计安全"><span class="nav-number">1.3.2.1.1.</span> <span class="nav-text">设计安全</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#缺省安全"><span class="nav-number">1.3.2.1.2.</span> <span class="nav-text">缺省安全</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#提交安全"><span class="nav-number">1.3.2.1.3.</span> <span class="nav-text">提交安全</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SDL过程"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">SDL过程</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH04软件安全测试"><span class="nav-number">1.4.</span> <span class="nav-text">CH04软件安全测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#软件安全测试"><span class="nav-number">1.4.1.</span> <span class="nav-text">软件安全测试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安全测试的法律问题"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">安全测试的法律问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#软件安全测试的方法"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">软件安全测试的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全测试点"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">安全测试点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#典型问题"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">典型问题</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#程序安全性测试典型问题参考"><span class="nav-number">1.4.1.4.1.</span> <span class="nav-text">程序安全性测试典型问题参考</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#网络安全测试典型问题参考"><span class="nav-number">1.4.1.4.2.</span> <span class="nav-text">网络安全测试典型问题参考</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#数据安全测试考虑问题参考："><span class="nav-number">1.4.1.4.3.</span> <span class="nav-text">数据安全测试考虑问题参考：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全漏洞分级"><span class="nav-number">1.4.2.</span> <span class="nav-text">安全漏洞分级</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DREAD模型"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">DREAD模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TRAP模型"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">TRAP模型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全的常规测试方法"><span class="nav-number">1.4.3.</span> <span class="nav-text">安全的常规测试方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基于风险的安全测试"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">基于风险的安全测试</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#基于风险的测试的三个步骤"><span class="nav-number">1.4.3.1.1.</span> <span class="nav-text">基于风险的测试的三个步骤</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#白盒、黑盒和灰盒测试"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">白盒、黑盒和灰盒测试</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#白盒测试"><span class="nav-number">1.4.3.2.1.</span> <span class="nav-text">白盒测试</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#黑盒测试"><span class="nav-number">1.4.3.2.2.</span> <span class="nav-text">黑盒测试</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#灰盒测试"><span class="nav-number">1.4.3.2.3.</span> <span class="nav-text">灰盒测试</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#典型安全测试工具"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">典型安全测试工具</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH05编写安全的代码"><span class="nav-number">1.5.</span> <span class="nav-text">CH05编写安全的代码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SD3"><span class="nav-number">1.5.1.</span> <span class="nav-text">SD3</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安全设计"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">安全设计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#缺省安全-1"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">缺省安全</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全提交"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">安全提交</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全规则"><span class="nav-number">1.5.2.</span> <span class="nav-text">安全规则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#学习错误"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">学习错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#最小化攻击面"><span class="nav-number">1.5.2.2.</span> <span class="nav-text">最小化攻击面</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH06信息系统的安全建模莫分析"><span class="nav-number">1.6.</span> <span class="nav-text">CH06信息系统的安全建模莫分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#信息系统及其特征"><span class="nav-number">1.6.1.</span> <span class="nav-text">信息系统及其特征</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MIS"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">MIS</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#主要特征"><span class="nav-number">1.6.1.1.1.</span> <span class="nav-text">主要特征</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#系统主要特性"><span class="nav-number">1.6.1.1.2.</span> <span class="nav-text">系统主要特性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#信息系统的类型"><span class="nav-number">1.6.1.1.3.</span> <span class="nav-text">信息系统的类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#运行环境要素"><span class="nav-number">1.6.1.1.4.</span> <span class="nav-text">运行环境要素</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#信息系统的安全问题"><span class="nav-number">1.6.2.</span> <span class="nav-text">信息系统的安全问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全模型"><span class="nav-number">1.6.3.</span> <span class="nav-text">安全模型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#用户界面逻辑"><span class="nav-number">1.6.3.1.</span> <span class="nav-text">用户界面逻辑</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#登录控制"><span class="nav-number">1.6.3.1.1.</span> <span class="nav-text">登录控制</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#业务逻辑"><span class="nav-number">1.6.3.2.</span> <span class="nav-text">业务逻辑</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#数据服务"><span class="nav-number">1.6.3.2.1.</span> <span class="nav-text">数据服务</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#权限管理"><span class="nav-number">1.6.3.2.2.</span> <span class="nav-text">权限管理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#日志审计"><span class="nav-number">1.6.3.2.3.</span> <span class="nav-text">日志审计</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#异常探测机"><span class="nav-number">1.6.3.3.</span> <span class="nav-text">异常探测机</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#异常行为探测"><span class="nav-number">1.6.3.3.1.</span> <span class="nav-text">异常行为探测</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#异常行为"><span class="nav-number">1.6.3.3.2.</span> <span class="nav-text">异常行为</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#日志分析"><span class="nav-number">1.6.3.3.3.</span> <span class="nav-text">日志分析</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#日志数据审计和异常模式"><span class="nav-number">1.6.3.3.3.1.</span> <span class="nav-text">日志数据审计和异常模式</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#网络异常探测机"><span class="nav-number">1.6.3.3.4.</span> <span class="nav-text">网络异常探测机</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH07WEB应用安全"><span class="nav-number">1.7.</span> <span class="nav-text">CH07WEB应用安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#WEB应用"><span class="nav-number">1.7.1.</span> <span class="nav-text">WEB应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定义"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全现状"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">安全现状</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#微软WEB应用安全框架"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">微软WEB应用安全框架</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#WEB应用安全建模"><span class="nav-number">1.7.1.3.1.</span> <span class="nav-text">WEB应用安全建模</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#WEB应用安全框架"><span class="nav-number">1.7.1.3.2.</span> <span class="nav-text">WEB应用安全框架</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#一个WEB应用安全模型"><span class="nav-number">1.7.1.3.3.</span> <span class="nav-text">一个WEB应用安全模型</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CH08安全工程过程模型"><span class="nav-number">1.8.</span> <span class="nav-text">CH08安全工程过程模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#核心工作"><span class="nav-number">1.8.1.</span> <span class="nav-text">核心工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#过程模型"><span class="nav-number">1.8.2.</span> <span class="nav-text">过程模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#过程实施要点"><span class="nav-number">1.8.3.</span> <span class="nav-text">过程实施要点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安全实施能力培养"><span class="nav-number">1.8.3.1.</span> <span class="nav-text">安全实施能力培养</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全目标定义"><span class="nav-number">1.8.3.2.</span> <span class="nav-text">安全目标定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#资源及敏感数据分析"><span class="nav-number">1.8.3.3.</span> <span class="nav-text">资源及敏感数据分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#威胁分析"><span class="nav-number">1.8.3.4.</span> <span class="nav-text">威胁分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全设计-1"><span class="nav-number">1.8.3.5.</span> <span class="nav-text">安全设计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#受攻击面分析"><span class="nav-number">1.8.3.6.</span> <span class="nav-text">受攻击面分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全实现"><span class="nav-number">1.8.3.7.</span> <span class="nav-text">安全实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全测试"><span class="nav-number">1.8.3.8.</span> <span class="nav-text">安全测试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安全维护"><span class="nav-number">1.8.3.9.</span> <span class="nav-text">安全维护</span></a></li></ol></li></ol></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">BROWALLIA</span></div><div class="theme-info"><div class="powered-by"></div><span class="post-count">小破站共 28.5k 字</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv" title="总访客量"><i class="fa fa-user"></i> <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> </span><span class="site-pv" title="总访问量"><i class="fa fa-eye"></i> <span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=6.4.1"></script><script type="text/javascript" src="/js/src/motion.js?v=6.4.1"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.1"></script><script type="text/javascript" src="/js/src/post-details.js?v=6.4.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.1"></script><script type="text/javascript">window.livereOptions={refer:"2019/06/14/软件安全设计/"},function(e,t){var n,r=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&(n=e.createElement(t),n.src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,r.parentNode.insertBefore(n,r))}(document,"script")</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;w<0&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script></body></html><!-- rebuild by neat -->